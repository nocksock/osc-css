@import "../../../osc.css";
@import '@fontsource-variable/inconsolata';

@import "./reset.css";
@import "./colors.css";

@import "./components/primitives.css";
@import "./components/stage.css";
@import "./components/content.css";
@import "./components/masonry.css";

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-bg: Canvas;
  --color-fg: CanvasText;

  --color-05: color-mix(in hsl, var(--color-fg) 5%, var(--color-bg));
  --color-10: color-mix(in hsl, var(--color-fg) 10%, var(--color-bg));
  --color-20: color-mix(in hsl, var(--color-fg) 20%, var(--color-bg));
  --color-30: color-mix(in hsl, var(--color-fg) 30%, var(--color-bg));
  --color-40: color-mix(in hsl, var(--color-fg) 40%, var(--color-bg));
  --color-50: color-mix(in hsl, var(--color-fg) 50%, var(--color-bg));
  --color-60: color-mix(in hsl, var(--color-fg) 60%, var(--color-bg));
  --color-70: color-mix(in hsl, var(--color-fg) 70%, var(--color-bg));
  --color-80: color-mix(in hsl, var(--color-fg) 80%, var(--color-bg));
  --color-90: color-mix(in hsl, var(--color-fg) 90%, var(--color-bg));
  --color-95: color-mix(in hsl, var(--color-fg) 95%, var(--color-bg));

  --color-blue: lch(50% 50% 190);

  --color-accent: var(--color-blue);
  --color-sheet: var(--color-10);

  --space-base: 1rem;
  --space-ratio: 1.33;

  --space--2: calc(var(--space-base) * pow(var(--space-ratio), 0.25));
  --space--1: calc(var(--space-base) * pow(var(--space-ratio), 0.5));
  --space-1: calc(var(--space-base) * pow(var(--space-ratio), 0));
  --space-2: calc(var(--space-base) * pow(var(--space-ratio), 1));
  --space-3: calc(var(--space-base) * pow(var(--space-ratio), 2));
  --space-4: calc(var(--space-base) * pow(var(--space-ratio), 3));
  --space-5: calc(var(--space-base) * pow(var(--space-ratio), 4));
  --space-6: calc(var(--space-base) * pow(var(--space-ratio), 5));
  --space-7: calc(var(--space-base) * pow(var(--space-ratio), 6));
  --space-8: calc(var(--space-base) * pow(var(--space-ratio), 8));

  --bspace-1: 0.125rem 0.25rem;
  --bspace-2: 0.250rem 0.50rem;
  --bspace-3: 0.375rem 0.75rem;
  --bspace-4: 0.500rem 1.00rem;
  --bspace-6: 0.725rem 1.50rem;
  --bspace-8: 1.000rem 2.00rem;

  --text-sm: 0.75rem;

  --font-mono: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;
  --font-sans: system-ui, sans-serif;

  font-size: 12pt;
  line-height: 1.5;
  color-scheme: light dark;
}

html,
body {
  min-height: 100svh;
  font-family: var(--font-sans);
  font-weight: normal;
}

p a:link {
  text-decoration: underline;
}

style.demo {
  display: block;
  white-space: pre-wrap;
  max-width: 72ch;
  background: var(--color-05);
  font-size: 0.75rem;
  position: absolute;
  bottom: theme(spacing.32);
  left: theme(spacing.12);
  top: theme(spacing.12);
  padding: theme(spacing.6);
  right: calc(50% + theme(spacing.6));
}

.demo {
  display: grid;
  height: 100svh;
  gap: theme(spacing.4);
  padding-bottom: theme(spacing.4);
  padding-right: theme(spacing.4);

  .guide{
    padding: var(--space-2);
    overflow: auto;
  }

  /* - layout - */

  grid-template-columns: 1fr;
  grid-template-rows: 1fr minmax(min-content, 30svh);
  grid-template-areas: 
    "guide"
    "stage-editor"
  ;

  #stage  { grid-area: stage-editor; }
  #guide  { grid-area: guide; }
  #editor { grid-area: stage-editor; }
  #editor {
    align-self: stretch;
    --color-bg: transparent;
    backdrop-filter: blur(4px);
    margin: 1rem;
  }

  @media screen and (min-width: 800px) {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr min-content;
    grid-template-areas: 
      "stage guide"
      "stage editor"
    ;

    #stage  { grid-area: stage; }
    #guide  { grid-area: guide; }
    #editor { grid-area: editor; }
  }
}


